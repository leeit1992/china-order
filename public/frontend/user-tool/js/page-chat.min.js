!function(t){"use strict";new(Backbone.View.extend({el:"#avt-form-chat",events:{"click #btn-send-chat":"clickSendChat","keyup #btn-input-chat":"enterSendChat","click .avt-chat-hide-head":"openChat"},initialize:function(){var a={orderId:t("#btn-input-chat").attr("order-id")};setInterval(function(){t.get(AVTDATA.adminUrl+"/get-data-chat",a,function(a){var n=JSON.parse(a);n.html&&(t(".chat").html(n.html),t(".card-body").animate({scrollTop:t(".chat").height()},1))})},1e3)},openChat:function(){setTimeout(function(){t(".card-body").animate({scrollTop:t(".chat").height()},1)},200)},clickSendChat:function(t){this.sendChat()},enterSendChat:function(t){13==t.keyCode&&this.sendChat()},sendChat:function(){var a=t("#btn-input-chat").val(),n=t("#btn-input-chat").attr("order-id"),e=t("#btn-input-chat").attr("user-name"),i={mes:a,orderId:n};t.post(AVTDATA.adminUrl+"/chat-validate",i,function(t){});var c='\t    \t\t<li class="right clearfix">                    <span class="chat-img pull-right">                        <img src="http://placehold.it/50/FA6F57/fff&amp;text=ME" alt="User Avatar" class="img-circle">                    </span>                    <div class="chat-body clearfix">                        <div class="header">                            <small class=" text-muted"><span class="glyphicon glyphicon-time"></span>1 mins ago</small>                            <strong class="pull-right primary-font">'+e+"</strong>                        </div>                        <p>"+a+"</p>                    </div>                </li>\t    \t";t(".chat").append(c),t(".card-body").animate({scrollTop:t(".chat").height()},1),t("#btn-input-chat").val("")}}))}(jQuery);